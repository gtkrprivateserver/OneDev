<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ONEDEV - Monitor Bot</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Countdown Timer Styling */
    .countdown {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 30px;
      font-size: 2em;
      color: #00b4d8;
      font-weight: bold;
      flex-wrap: wrap;
    }
    .countdown-item {
      text-align: center;
      min-width: 60px;
    }
    .countdown-item span {
      display: block;
      font-size: 1.2em;
      color: #00b4d8;
      margin-bottom: 5px;
    }

    /* Bot Status */
    .bot-status {
      margin-top: 40px;
      font-size: 1.2em;
      color: #ccc;
      transition: all 0.3s;
    }
    .bot-status span {
      font-weight: bold;
      color: #00b4d8;
    }
    .bot-status.online span {
      color: #00ff85;
    }
    .bot-status.offline span {
      color: #ff4c4c;
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .countdown {
        font-size: 1.5em;
        gap: 10px;
      }
      .countdown-item {
        min-width: 50px;
      }
      .countdown-item span {
        font-size: 1em;
      }
      .bot-status {
        font-size: 1em;
      }
    }
    @media (max-width: 480px) {
      .countdown {
        font-size: 1.2em;
        gap: 8px;
      }
      .countdown-item {
        min-width: 45px;
      }
      .countdown-item span {
        font-size: 0.95em;
      }
      .bot-status {
        font-size: 0.9em;
      }
    }
  </style>
</head>
<body>
  <!-- SIDEBAR -->
  <aside class="sidebar">
    <h2 class="logo">ONE<span>DEV</span></h2>
    <nav>
      <a href="index.html">üè† Home</a>
      <a href="about.html">üí° About</a>
      <a href="services.html">‚öôÔ∏è Services</a>
      <a href="monitor.html" class="active">‚è≥ Monitor</a>
      <a href="contact.html">üì© Contact</a>
    </nav>
    <footer>¬© 2025 ONEDEV</footer>
  </aside>

  <!-- MAIN CONTENT -->
  <div class="main-content">
    <header>
      <div class="header-left">
        <button class="menu-btn">‚ò∞</button>
        <h1>Monitor Bot</h1>
      </div>
    </header>

    <section style="text-align:center; margin-top:80px; padding:0 10px;">
      <h2 style="font-size:2em; color:#00b4d8;">Monitor Bot üöÄ</h2>
      <p style="margin-top:20px; color:#ccc; font-size:1.1em;">
        Halaman Monitor Bot sedang dalam pengembangan.<br>
        Nanti akan menampilkan status bot Discord secara real-time!
      </p>

      <!-- Countdown Timer -->
      <div class="countdown" id="countdown">
        <div class="countdown-item"><span id="days">0</span>Days</div>
        <div class="countdown-item"><span id="hours">0</span>Hours</div>
        <div class="countdown-item"><span id="minutes">0</span>Minutes</div>
        <div class="countdown-item"><span id="seconds">0</span>Seconds</div>
      </div>

      <!-- Bot Status -->
      <div class="bot-status offline" id="botStatus">
        Status Bot: <span>Loading...</span>
      </div>
    </section>
  </div>

  <script>
    // ===========================
    // Countdown Timer
    // ===========================
    const launchDate = new Date("Dec 31, 2025 00:00:00").getTime();
    const countdownTimer = setInterval(() => {
      const now = new Date().getTime();
      const distance = launchDate - now;

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      document.getElementById("days").innerText = days;
      document.getElementById("hours").innerText = hours;
      document.getElementById("minutes").innerText = minutes;
      document.getElementById("seconds").innerText = seconds;

      if (distance < 0) {
        clearInterval(countdownTimer);
        document.getElementById("countdown").innerHTML = "<h3>üöÄ Bot Telah Tersedia!</h3>";
      }
    }, 1000);

    // ===========================
    // Fetch Bot Status via Discord API (Backend)
    // ===========================
    async function fetchBotStatus() {
      const botStatus = document.getElementById("botStatus");
      try {
        const res = await fetch("/bot-status"); // Pastikan backend /bot-status berjalan
        const data = await res.json();

        if (data.status === "online") {
          botStatus.classList.remove("offline");
          botStatus.classList.add("online");
          botStatus.innerHTML = `Status Bot: <span>Online ‚úÖ</span>`;
        } else {
          botStatus.classList.remove("online");
          botStatus.classList.add("offline");
          botStatus.innerHTML = `Status Bot: <span>Offline ‚ùå</span>`;
        }
      } catch (error) {
        botStatus.classList.remove("online");
        botStatus.classList.add("offline");
        botStatus.innerHTML = `Status Bot: <span>Offline ‚ùå</span>`;
      }
    }

    // Refresh status setiap 10 detik
    fetchBotStatus();
    setInterval(fetchBotStatus, 10000);
  </script>
</body>
</html>